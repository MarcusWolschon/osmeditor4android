<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
</head>
<body>
<h1 id="openstreetmapin-aukioloaikamuokkain">OpenStreetMapin aukioloaikamuokkain</h1>
<p>OpenStreetMapin aukiloaikojen määrittely on melko monimutkainen eikä se suoralta kädeltä taivu yksinkertaiseksi ja intuitiiviseksi käyttöliittymäksi.</p>
<p>Toisaalta määrittelystä käytetään monesti vain pientä osaa. Muokkain ottaa tämän huomioon ja yrittää piilottaa oudoimmat piirteet valikoihin, jolloin tien päällä tarvitsee useimmiten tehdä vain pieniä muutoksia valmiisiin mallipohjiin.</p>
<p><em>Tämä dokumentaatio on alustava ja työn alla.</em></p>
<h2 id="aukioloaikamuokkaimen-käyttö">Aukioloaikamuokkaimen käyttö</h2>
<p>Tyypillisessä tapauksessa muokattavana olevalla kohteella joko on jo aukioloaikatägi (opening_hours, service_times ja collection_times) tai siihen voi soveltaa uudelleen esivalinnan, joka lisää tyhjän aukioloaikakentän. Jos sinun täytyy lisätä kenttä käsin Vespuccia käyttäessäsi, niin voit lisätä avaimen yksityikohtasivulta ja palata sitten takaisin muokkaamaan lomakepohjaiselle välilehdelle. Jos esivalinnassa kuuluisi mielestäsi olla aukioloaikatägi, voit lähettää muutospyynnön käyttämäsi muokkaimen kehittäjille.</p>
<p>If you have defined a default template (do this via the &quot;Manage templates&quot; menu item) it will be loaded automatically when the editor is started with an empty value. With the &quot;Load template&quot; function you can load any saved template and with the &quot;Save template&quot; menu you can save the current value as a template. You can define separate templates and defaults for specific key, for example &quot;opening_hours&quot;, &quot;collection_times&quot; and &quot;service_times&quot; or custom values. Further you can limit applicability of a template to a region and a specific identifier, typically an OSM top-level tag (for example amenity=restaurant).</p>
<p>Voit luonnollisesti rakentaa aukioloajan (aoa) tyhjästä, mutta suosittelemme jonkin valmiin mallineen käyttämistä pohjana.</p>
<p>Kun muokkaimeen ladataan olemassa oleva arvo, se yritetään korjata automaattisesti aukioloaikamäärittelyn mukaiseksi. Jos tämä ei ole mahdollista, virheen summittainen paikka raa'assa aoa-arvossa korostetaan, ja voit yrittää korjata sen käsin. Suurinpiirtein neljänneksessä OpenStreetMapin tietokannan aoa-arvoista on ongelmia, ja alle kymmentä prosenttia ei voi korjata. Sivulla <a href="https://github.com/simonpoole/OpeningHoursParser">OpeningHourParser</a> kerrotaan tarkemmin mitä poikkeamia määrittelystä sallitaan.</p>
<h3 id="päävalikkonappi">Päävalikkonappi</h3>
<ul>
<li><strong>Lisää sääntö</strong>: lisää uusi sääntö.</li>
<li><strong>Lisää sääntö juhlapäiville</strong>: lisää uusi sääntö juhlapäiville ja sen tilamuutos.</li>
<li><strong>Lisää sääntö 24/7</strong>: lisää sääntö kohteelle, joka on aina auki; aukioloaikamäärittely ei tue alavalitsimien käyttämistä 24/7:n rinnalla, mutta tässä sallitaan korkeamman tason valitsimien lisääminen (esimerkiksi vuosijaksot).</li>
<li><strong>Lataa malline</strong>: lataa valmis malline.</li>
<li><strong>Tallenna mallineeksi</strong>: tallenna nykyinen aukioloaika-arvo mallineeksi tulevaa käyttöä varten.</li>
<li><strong>Mallipohjien hallinta</strong>: muokkaa (esim. vaihda nimi) ja poista mallipohjia.</li>
<li><strong>Päivitä</strong>: jäsennä aukioloaika-arvo uudelleen.</li>
<li><strong>Poista kaikki</strong>: poista kaikki säännöt.</li>
</ul>
<h3 id="säännöt">Säännöt</h3>
<p>Oletussäännöt lisätään <em>tavallisina</em> sääntöinä, mikä tarkoittaa sitä, että ne syrjäyttävät aiemmat samoille päiville osuvat säännöt. Tällä voi olla merkitystä, kun määritetään laajennettuja aikoja – tyypillisesti tällöin on syytä muuttaa säännöt <em>lisääviksi</em> valikkokohdasta <em>Näytä sääntötyyppi</em>.</p>
<h4 id="sääntövalikko">Sääntövalikko</h4>
<ul>
<li><strong>Lisää määre/kommentti</strong>: muuta säännön vaikutusalaa, ja lisää valinnainen kommentti.</li>
<li><strong>Lisää vapaapäivä</strong>: lisää valitsin yleiselle tai koulujen vapaapäivälle.</li>
<li><strong>Lisää aikaväli...</strong>
<ul>
<li><strong>Aika–aika</strong>: alkuaika ja loppuaika samana päivänä.</li>
<li><strong>Aika–laajennettu aika</strong>: alkuaika ja loppuaika eri päivinä (esim. 26:00 on 02:00 seuraavana päivänä).</li>
<li><strong>Vaiht. aika–aika</strong>: vaihteleva alkuaika (aamu- tai iltahämärä, auringonnousu tai -lasku) ja loppuaika samana päivänä.</li>
<li><strong>Vaiht. aika–laajennettu aika</strong>: vaihteleva alkuaika ja loppuaika peräkkäisinä päivinä.</li>
<li><strong>Aika–vaiht. aika</strong>: alkuaika ja vaihteleva loppuaika.</li>
<li><strong>Vaiht. aika–vaiht. aika</strong>: vaihteleva alkuaika ja vaihteleva loppuaika.</li>
<li><strong>Aika</strong>: tietty ajankohta.</li>
<li><strong>Aika–avoin loppu</strong>: tietystä ajankohdasta eteenpäin.</li>
<li><strong>Vaihteleva aika</strong>: vaihtelevana ajankohtana.</li>
<li><strong>Vaihteleva aika–avoin loppu</strong>: vaihtelevasta ajankohdasta eteenpäin.</li>
</ul>
</li>
<li><strong>Lisää viikonpäiväjakso</strong>: lisää viikonpäiviin perustuva valitsin.</li>
<li><strong>Lisää päiväjakso...</strong>
<ul>
<li><strong>Pvm–pvm</strong>: alku- ja loppupäivämäärä (vuosi, kk, päivä).</li>
<li><strong>Vaihteleva pvm–pvm</strong>: vaihteleva alkupäivämäärä (määrittelyssä on toistaiseksi vain <em>pääsiäinen</em>) ja tietty loppupäivämäärä.</li>
<li><strong>Pvm–vaihteleva pvm</strong>: alkupäivämäärä ja vaihteleva loppupäivämäärä.</li>
<li><strong>Vaihteleva pvm–vaihteleva pvm</strong>: vaihteleva alku- ja loppupäivämäärä.</li>
<li><strong>Esiintymiskerta kuussa–esiintymiskerta kuussa</strong>: alkaen viikonpäivän tietystä esiintymiskerrasta kuukauden aikana samaan esiintymäkertaan seuraavassa kuussa.</li>
<li><strong>Esiintymiskerta kuussa–päivämäärä</strong>: alkaen viikonpäivän tietystä esiintymiskerrasta kuukauden aikana ja päättyen tiettyyn päivämäärään</li>
<li><strong>Päivämäärä–esiintymiskerta kuussa</strong>: alkaen tietystä päivämäärästä ja päättyen viikonpäivän tiettyyn esiintymiskertaan kuukauden aikana.</li>
<li><strong>Esiintymiskerta kuussa–vaihteleva päivämäärä</strong>: alkaen viikonpäivän tietystä esiintymiskerrasta kuukauden aikana ja päättyen vaihtelevaan päivämäärään.</li>
<li><strong>Vaihteleva päivämäärä–esiintymiskerta kuussa</strong>: alkaen vaihtelevasta päivämäärästä ja päättyen viikonpäivän tiettyyn esiintymiskertaan kuukauden aikana.</li>
<li><strong>Päivämäärä–avoin loppu</strong>: tietystä päivämäärästä eteenpäin.</li>
<li><strong>Vaihteleva pvm–avoin loppu</strong>: vaihtelevasta päivämäärästä eteenpäin.</li>
<li><strong>Esiintymiskerta kuussa–avoin loppu</strong>: viikonpäivän tietystä esiintymiskerrasta kuukauden aikana eteenpäin.</li>
<li><strong>Poikkeama...</strong>: samat vaihtoehdot kuin edellä poikkeaman kanssa (harvoin käytetty).</li>
</ul>
</li>
<li><strong>Add year range...</strong>
<ul>
<li><strong>Lisää vuosijakso</strong>: lisää vuosiin perustuva valitsin.</li>
<li><strong>Add starting year</strong>: add an open ended year range.</li>
</ul>
</li>
<li><strong>Lisää viikkojakso</strong>: lisää viikkonumeroihin perustuva valitsin.</li>
<li><strong>Kahdenna</strong>: tee kopio tästä säännöstä välittömästi sen perään.</li>
<li><strong>Näytä sääntötyyppi</strong>: näytä säännön tyyppi ja/tai muuta sitä: <em>tavallinen</em>, <em>lisäävä</em> ja <em>vara</em> (ei ensimmäiselle säännölle).</li>
<li><strong>Siirrä ylöspäin</strong>: siirrä sääntö yhtä paikkaa ylemmäs (ei ensimmäiselle säännölle)</li>
<li><strong>Siirrä alaspäin</strong>: siirrä sääntö yhtä paikkaa alemmas.</li>
<li><strong>Poista</strong>: poista sääntö.</li>
</ul>
<h3 id="ajanjaksot">Ajanjaksot</h3>
<p>Jotta ajanjaksojen muokkaaminen olisi mahdollisimman helppoa, valmiita arvoja ladattaessa säätöasteikolle koetetaan antaa paras mahdollinen laajuus ja jaottelu. Uusien ajanjaksojen säätimissä alkuaika on 6:00, ja niissä on 15 minuutin jaotus. Asetuksia voi muuttaa valikon kautta.</p>
<p>Aikapalkin (ei jakomerkkien) klikkaaminen avaa ison aikavalitsimen, kun palkin käyttö suoraan on liian vaikeaa. Aikavalitsin ulottuu seuraavaan päivään, joten se on helppo tapa laajentaa aikaväliä tarvitsematta poistaa ja lisätä aikaväliä uudelleen.</p>
<h4 id="ajanjaksovalikko">Ajanjaksovalikko</h4>
<ul>
<li><strong>Näytä aikavalitsin</strong>: näytä iso valitsin, josta voi asettaa alku- ja loppuajan; pienille näytöille tämä on suositeltava tapa aikojen asettamiseen.</li>
<li><strong>15 minuutin jaotus</strong>: käytä säätöpalkissa 15 minuutin tarkkuutta.</li>
<li><strong>5 minuutin jaotus</strong>: käytä säätöpalkissa 5 minuutin tarkkuutta.</li>
<li><strong>1 minuutin jaotus</strong>: käytä säätöpalkissa 1 minuutin tarkkuutta – todella vaikeaa puhelimessa.</li>
<li><strong>Aloita keskiyöstä</strong>: aseta säätöpalkin alkuaika keskiyöhön.</li>
<li><strong>Näytä aikaväli</strong>: näytä kenttä, johon asetetaan toistuva aikaväli minuutteina.</li>
<li><strong>Poista</strong>: poista ajanjakso.</li>
</ul>
<h3 id="hallitse-mallineita">Hallitse mallineita</h3>
<p>The template management dialog allows you to add, edit and delete templates.</p>
<p>In Android 4.4 and later the following additional functionality is available from the menu button.</p>
<ul>
<li><strong>Show all</strong>: display all templates in the database.</li>
<li><strong>Save to file</strong>: write the contents of the template database to a file.</li>
<li><strong>Load from file (replace)</strong>: load templates from a file replacing the current contents of the database.</li>
<li><strong>Load from file</strong>: load templates from a file retaining the current contents.</li>
</ul>
<h4 id="save-and-edit-template-dialogs">Save and edit template dialogs</h4>
<p>The dialog allows you to set</p>
<ul>
<li><strong>Name</strong> a descriptive name for the template.</li>
<li><strong>Default</strong> if checked this will be consider as a default template (typically further constrained by the other fields).</li>
<li><strong>Key</strong> the key this template is relevant for, if set to <em>Custom key</em> you can add a non-standard value in the field below. The key values support SQL wild cards, that is <em>%</em> matches zero or more characters, <em>_</em> matches a single character. Both wild card characters can be escaped with <em>\</em> for literal matches.</li>
<li><strong>Region</strong> the region the template is applicable to.</li>
<li><strong>Object</strong> an application specific string to use for matching.</li>
</ul>

</body>
</html>