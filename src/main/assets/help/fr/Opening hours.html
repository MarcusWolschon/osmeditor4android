<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
</head>
<body>
<h1>Éditeur d'horaires d'ouverture OpenStreetMap</h1>
<p>La spécification des horaires d'ouverture d'OpenStreetMap est assez compliquée et ne se prête pas directement à une interface utilisateur simple et intuitive.</p>
<p>Cependant, la plupart du temps vous n'utiliserez surement qu'une petite partie de la définition. L'éditeur prend cela en compte en essayant de cacher les possibilités les plus obscures dans les menus et réduit le travail normal à quelques personnalisations de modèles pré-définis.</p>
<p><em>Cette documentation est inachevée</em></p>
<h2>Utiliser l'éditeur d'horaires d'ouverture</h2>
<p>Dans votre travail quotidien, l'objet que vous modifiez peut soit avoir déjà un attribut d'horaires d'ouverture (opening_hours, service_times ou collection_times) ou vous pouvez ré-appliquer le modèle d'attribut pour obtenir un attribut vide. Si vous avez besoin d'ajouter le champs manuellement et que vous utilisez Vespucci, vous pouvez saisir la clef sur la page de détails puis revenir sur le formulaire pour la modifier. Si vous pensez que l'attribut d'horaires d'ouverture aurait dû faire parti du modèle, ouvrez un rapport de bogue pour votre éditeur.</p>
<p>Si vous avez défini un modèle par défaut (vous pouvez le faire via le menu &quot;Gérer les modèles&quot;), il sera automatiquement chargé au démarrage de l'éditeur avec une valeur vide. Avec la fonction &quot;Charger le modèle&quot;, vous pouvez charger n'importe quel modèle enregistré et avec le menu &quot;Enregistrer le modèle&quot;, vous pouvez enregistrer la valeur actuelle en tant que modèle. Vous pouvez définir des modèles et des valeurs par défaut distincts pour une clé spécifique, par exemple &quot;opening_hours&quot;, &quot;collection_times&quot; et &quot;service_times&quot;. En outre, vous pouvez limiter l'applicabilité d'un modèle à une région et à un élément spécifique, par exemple un élément OSM de niveau supérieur (comme amenity=restaurant).</p>
<p>Naturellement vous pouvez construire des horaires d'ouverture à partir de rien, mais nous recommandons d'utiliser l'un des modèles existants comme point de départ.</p>
<p>Si une valeur d'horaires d'ouverture existante est chargée, le logiciel tentera de la corriger automatiquement pour qu'elle soit conforme avec la spécification. Si cela n'est pas possible, l'emplacement approximatif où l'erreur a eu lieue sera surlignée dans l'affichage de la valeur brute et vous pourrez essayer de la corriger manuellement. Environ un quart des valeurs d'horaires d'ouverture ont des problèmes, mais moins de 10% ne peuvent pas être corrigées. Voir <a href="https://github.com/simonpoole/OpeningHoursParser">OpeningHoursParser</a> pour plus d'information sur les déviations à la spécification qui sont tolérées.</p>
<h3>Bouton de menu principal</h3>
<ul>
<li><strong>Ajouter une règle</strong> : ajouter une nouvelle règle.</li>
<li><strong>Ajouter une règle pour les vacances</strong> : ajouter une nouvelle règle pour les vacances en même temps qu'un changement d'état.</li>
<li><strong>Ajouter une règle pour 24h/24 7j/7</strong> : ajouter une règle pour un objet qui est tout le temps ouvert. La spécification n'accepte pas d'autre sous-valeurs pour 24h/24 7j/7 mais nous permettons l'ajout de sélecteurs de plus haut niveau (par exemple un intervalle d'années).</li>
<li><strong>Charger un modèle</strong> : charger un modèle existant.</li>
<li><strong>Enregistrer dans un modèle</strong> : sauvegarder la valeur actuelle des horaires d'ouverture comme un modèle pour pouvoir l'utiliser plus tard.</li>
<li><strong>Gérer les modèles</strong> : modifier, par exemple en changeant le nom, et supprimer des modèles existants.</li>
<li><strong>Rafraîchir</strong> : ré-analyser la valeur des horaires d'ouverture.</li>
<li><strong>Tout supprimer</strong> : Supprimer toutes les règles.</li>
</ul>
<h3>Règles</h3>
<p>Les règles par défaut sont ajoutées comme des règles <em>normales</em>, ce qui implique qu'elles annuleront les règles précédentes pour les mêmes jours. Ce peut être un problème pour spécifier des horaires étendues. Vous pouvez alors changer les règles en changeant l'élément de menu <em>Montrer le type de règle</em> en <em>additif</em>.</p>
<h4>Menu des règles</h4>
<ul>
<li><strong>Ajouter un modificateur ou un commentaire</strong> : changer l'effet de cette règle et ajouter un commentaire facultatif.</li>
<li><strong>Ajouter des jours fériés</strong> : ajouter un sélecteur pour les vacances publiques ou scolaires.</li>
<li><strong>Ajouter un intervalle de temps…</strong>
<ul>
<li><strong>Heure fixe à heure fixe</strong> : une heure de début et de fin le même jour.</li>
<li><strong>Heure fixe à heure fixe étendue</strong> : une heure de début et de fin le jour suivant (par exemple 26:00 est 02:00 (du matin) le jour suivant).</li>
<li><strong>Heure variable à heure fixe</strong> : d'une heure variable (aube, crépuscule, levé du soleil ou couché du soleil) à une heure de fin le même jour.</li>
<li><strong>Heure variable à heure fixe étendue</strong> : d'une heure de début variable à une heure de fin le jour suivant.</li>
<li><strong>Heure fixe à heure variable</strong> : d'une heure de début à une heure de fin variable.</li>
<li><strong>Heure variable à heure variable</strong> : d'une heure de début variable à une heure de fin variable.</li>
<li><strong>Heure fixe</strong> : un point dans le temps.</li>
<li><strong>Heure fixe à durée indéterminée</strong> : à partir d'un point dans le temps.</li>
<li><strong>Heure variable</strong> : un point dans le temps variable.</li>
<li><strong>Heure variable à durée indéterminée</strong> : à partir d'un point variable dans le temps.</li>
</ul>
</li>
<li><strong>Ajouter un intervalle de jours de semaine</strong> : ajouter un sélecteur de jours de la semaine.</li>
<li><strong>Ajouter un intervalle de dates…</strong>
<ul>
<li><strong>Date fixe à date fixe</strong> : d'une date de début (année, mois, jour) à une date de fin.</li>
<li><strong>Date variable à data fixe</strong> : d'une date de début variable (actuellement la spécification ne définie que <em>pâques</em>) à une date de fin.</li>
<li><strong>Date fixe à date variable</strong> : d'une date de début à une date de fin variable.</li>
<li><strong>Date variable à date variable</strong> : d'une date de début variable à une date de fin variable.</li>
<li><strong>Occurrence dans le mois à occurrence dans le mois</strong> : d'une occurrence d'un jour de la semaine à un autre.</li>
<li><strong>Occurrence dans le mois à date fixe</strong> : d'une occurrence d'un jour de la semaine de début à une date de fin.</li>
<li><strong>Date fixe à occurrence dans le mois</strong> : d'une date de début à une occurrence d'un jour de la semaine à la fin.</li>
<li><strong>Occurrence dans le mois à date variable</strong> : d'une occurrence d'un jour de la semaine dans un mois à une date variable de fin.</li>
<li><strong>Date variable à occurrence dans le mois</strong> : d'une date de début variable à une occurrence d'un jour de la semaine dans un mois.</li>
<li><strong>Date fixe à durée indéterminée</strong>  : à partir d'une date de début.</li>
<li><strong>Date variable à durée indéterminée</strong> : à partir d'une date de début variable.</li>
<li><strong>Occurrence dans le mois à durée indéterminée</strong> : à partir d'une occurrence d'un jour de la semaine dans un mois.</li>
<li><strong>Avec décalages…</strong> : les mêmes entrées que précédemment, mais avec des décalages spécifiés (c'est rarement utile).</li>
</ul>
</li>
<li><strong>Ajouter une plage d'années...</strong>
<ul>
<li><strong>Ajouter un intervalle d'années</strong> : ajouter un sélecteur d'années.</li>
<li><strong>Ajouter l'année de départ</strong>: ouvre une plage d'années sans date de fin.</li>
</ul>
</li>
<li><strong>Ajouter un intervalle de semaines</strong> : ajouter un sélecteur de numéro de semaine.</li>
<li><strong>Dupliquer</strong> : créer une copie de cette règle et l'insérer après la position actuelle.</li>
<li><strong>Montrer le type de règle</strong> : afficher et permettre de changer le type de règle entre <em>normal</em>, <em>additif</em> et <em>par défaut</em> (indisponible sur la première règle).</li>
<li><strong>Déplacer vers le haut</strong> : déplacer cette règle d'une position vers le haut (indisponible sur la première règle).</li>
<li><strong>Déplacer vers le bas</strong> : déplacer cette règle d'une position vers le bas.</li>
<li><strong>Supprimer</strong> : supprimer cette règle.</li>
</ul>
<h3>Intervalles de temps</h3>
<p>Pour rendre la modification d'intervalles de temps le plus simple possible, nous essayons de choisir un intervalle de temps optimal et une granularité pour la barre d'intervalle lors du chargement de valeurs existantes. Pour les nouveaux intervalles, la barre commence à 6:00 (du matin) avec des incrément de 15 minutes, ce qui peut se changer via le menu.</p>
<p>Cliquer sur la barre (mais pas sur les épingles) ouvrira le grand sélecteur d'heures, lorsqu'utiliser la barre directement est trop dur. Les sélecteurs d'heures vont jusqu'au jour suivant, donc c'est une manière simple d'augmenter un intervalle de temps sans avoir à supprimer et rajouter un intervalle.</p>
<h4>Menu d'intervalle de temps</h4>
<ul>
<li><strong>Montrer le sélecteur d'heure</strong> : montrer un grand sélecteur d'heure pour sélectionner l'heure de début et de fin. C'est la méthode à privilégier sur les petits écrans pour changer les heures.</li>
<li><strong>Passer à des intervalles de 15 minutes</strong> : utiliser une granularité à 15 minutes sur la barre d'intervalle.</li>
<li><strong>Passer à des intervalles de 5 minutes</strong> : utiliser une granularité à 5 minutes sur la barre d'intervalle.</li>
<li><strong>Passer à des intervalles de 1 minutes</strong> : utiliser une granularité à 1 minutes sur la barre d'intervalle. C'est très difficile à utiliser sur un téléphone.</li>
<li><strong>Commencer à minuit</strong> : commencer la barre d'intervalle à minuit.</li>
<li><strong>Montrer l'intervalle</strong> : montrer le champ d'intervalle pour spécifier un intervalle en minutes.</li>
<li><strong>Effacer</strong>  : supprimer cet intervalle de temps.</li>
</ul>
<h3>Gérer les modèles</h3>
<p>La boîte de dialogue pour la gestion des modèles vous permet d'ajouter, modifier et supprmer des modèles.</p>
<p>A partir de la version 4.4 d'Android, les fonctionnalités supplémentaires suivantes sont disponibles depuis le bouton de menu.</p>
<ul>
<li><strong>Montrer tout</strong>: montre tous les modèles disponibles.</li>
<li><strong>Sauvegarder dans un fichier</strong>: sauvegarde le contenu du modèle dans une fichier.</li>
<li><strong>Charger depuis un fichier (remplace)</strong>: charge des modèles depuis un fichier en remplaçant les données actuelles.</li>
<li><strong>Charger depuis un fichier</strong>: charge les modèles contenus dans un fichier sans supprimer le contenu actuel.</li>
</ul>
<h4>Boîte de dialogue pour sauvegarder et modifier un modèle</h4>
<p>La boîte de dialogue vous permet de mettre</p>
<ul>
<li><strong>Nom</strong>: un nom descriptif pour le modèle.</li>
<li><strong>Par défaut</strong> si sélectionné, le modèle sera considéré comme le modèle par défaut (en général limité par les autres champs).</li>
<li><strong>Clé</strong> la clé pour laquelle ce modèle est pertinent. Si définie avec <em>Clé personnelle</em>, vous pouvez ajouter une valeur non standard dans le champ ci-dessous. Les valeurs de clé prennent en charge les caractères spéciaux SQL : <em>%</em> correspond à zéro ou plusieurs caractères et <em>_</em> correspond à un seul caractère. Ces deux caractères spéciaux peuvent être échappés avec <em>\</em> pour les utiliser tels quels dans les correspondances.</li>
<li><strong>Région</strong> zone où le modèle est disponible.</li>
<li><strong>Objet</strong> une chaîne spécifique de l'application utilisée pour trouver une correspondance.</li>
</ul>

</body>
</html>