<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Vespucci presets - Vespucci</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/docco.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">

<!--
                <a class="navbar-brand" href="../..">Vespucci</a> -->
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
<!--                            <li class="navitem">
                                <a href="../.." class="nav-link">Vespucci</a>
</li> -->
                                <li class="navitem">
                                    
                                        <a href="../.." class="nav-link"><img src="/vespucci_logo_small.png"></a>
                                </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Introduction <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../help/en/Introduction/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../features/" class="dropdown-item">Features</a>
</li>
                                    
<li>
    <a href="../../help/en/18.0.0%20Release%20notes/" class="dropdown-item">18.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/17.1.0%20Release%20notes/" class="dropdown-item">17.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/17.0.0%20Release%20notes/" class="dropdown-item">17.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/16.1.0%20Release%20notes/" class="dropdown-item">16.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/16.0.0%20Release%20notes/" class="dropdown-item">16.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/15.2.0%20Release%20notes/" class="dropdown-item">15.2.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/15.1.0%20Release%20notes/" class="dropdown-item">15.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/15.0.0%20Release%20notes/" class="dropdown-item">15.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/14.1.0%20Release%20notes/" class="dropdown-item">14.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/14.0.0%20Release%20notes/" class="dropdown-item">14.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/13.1.0%20Release%20notes/" class="dropdown-item">13.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/13.0.0%20Release%20notes/" class="dropdown-item">13.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/12.1.0%20Release%20notes/" class="dropdown-item">12.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/12.0.0%20Release%20notes/" class="dropdown-item">12.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/11.2.0%20Release%20notes/" class="dropdown-item">11.2.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/11.1.0%20Release%20notes/" class="dropdown-item">11.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/11.0.0%20Release%20notes/" class="dropdown-item">11.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/10.2.0%20Release%20notes/" class="dropdown-item">10.2.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/10.1.0%20Release%20notes/" class="dropdown-item">10.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/10.0.0%20Release%20notes/" class="dropdown-item">10.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/0.9.9%20Release%20notes/" class="dropdown-item">0.9.9 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/0.9.8%20Release%20notes/" class="dropdown-item">0.9.8 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/0.9.7%20Release%20notes/" class="dropdown-item">0.9.7 Release notes</a>
</li>
                                    
<li>
    <a href="../../help/en/0.9.6%20Release%20notes/" class="dropdown-item">0.9.6 Release notes</a>
</li>
                                    
<li>
    <a href="../old_release_notes/" class="dropdown-item">Previous release notes</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Editing <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../help/en/Main%20map%20display/" class="dropdown-item">Main map display</a>
</li>
                                    
<li>
    <a href="../../help/en/Simple%20actions/" class="dropdown-item">Simple actions</a>
</li>
                                    
<li>
    <a href="../../help/en/Creating%20new%20objects/" class="dropdown-item">Creating new objects</a>
</li>
                                    
<li>
    <a href="../../help/en/Node%20selected/" class="dropdown-item">Node selected</a>
</li>
                                    
<li>
    <a href="../../help/en/Way%20selected/" class="dropdown-item">Way selected</a>
</li>
                                    
<li>
    <a href="../../help/en/Relation%20selected/" class="dropdown-item">Relation selected</a>
</li>
                                    
<li>
    <a href="../../help/en/New%20Note%20selected/" class="dropdown-item">New note selected</a>
</li>
                                    
<li>
    <a href="../../help/en/Property%20editor/" class="dropdown-item">Property editor</a>
</li>
                                    
<li>
    <a href="../../help/en/Multiselect/" class="dropdown-item">Multiselect</a>
</li>
                                    
<li>
    <a href="../../help/en/Conflict%20resolution/" class="dropdown-item">Conflict resolution</a>
</li>
                                    
<li>
    <a href="../../help/en/Presets/" class="dropdown-item">Presets</a>
</li>
                                    
<li>
    <a href="../../help/en/Aligning%20background%20imagery/" class="dropdown-item">Aligning background imagery</a>
</li>
                                    
<li>
    <a href="../../help/en/Keyboard/" class="dropdown-item">Keyboard and mouse</a>
</li>
                                    
<li>
    <a href="../../help/en/GPS%20sources/" class="dropdown-item">GPS sources</a>
</li>
                                    
<li>
    <a href="../../help/en/Tag%20filter/" class="dropdown-item">Tag based filter</a>
</li>
                                    
<li>
    <a href="../../help/en/Preset%20filter/" class="dropdown-item">Preset based filter</a>
</li>
                                    
<li>
    <a href="../../help/en/Opening%20hours/" class="dropdown-item">Opening hours</a>
</li>
                                    
<li>
    <a href="../../help/en/Preferences/" class="dropdown-item">Preferences</a>
</li>
                                    
<li>
    <a href="../../help/en/Advanced%20preferences/" class="dropdown-item">Advanced preferences</a>
</li>
                                    
<li>
    <a href="../../help/en/Voice%20commands/" class="dropdown-item">Voice commands</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Tutorials and Posts <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../network_location/" class="dropdown-item">"network" Location Provider Support</a>
</li>
                                    
<li>
    <a href="../custom_imagery/" class="dropdown-item">Custom imagery</a>
</li>
                                    
<li>
    <a href="../custom_imagery_mbtiles/" class="dropdown-item">Generating MBTiles files with custom imagery</a>
</li>
                                    
<li>
    <a href="../name_suggestions/" class="dropdown-item">Using name suggestions</a>
</li>
                                    
<li>
    <a href="../reporting_issues/" class="dropdown-item">Reporting Vespucci issues</a>
</li>
                                    
<li>
    <a href="../tag_only/" class="dropdown-item">Tag-only editing</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Vespucci presets</a>
</li>
                                    
<li>
    <a href="../data_styling/" class="dropdown-item">Vespucci data styling</a>
</li>
                                    
<li>
    <a href="../vespucci_intents/" class="dropdown-item">Controlling Vespucci from other apps</a>
</li>
                                    
<li>
    <a href="../object_search/" class="dropdown-item">Object search</a>
</li>
                                    
<li>
    <a href="../offline/" class="dropdown-item">Going completely offline with Vespucci</a>
</li>
                                    
<li>
    <a href="../mapbox-style/" class="dropdown-item">Mapbox-GL Style Support</a>
</li>
                                </ul>
                            </li>
<!--                            <li class="navitem">
                                <a href="../screenshots/" class="nav-link">Videos & Screenshots</a>
</li> -->
                                <li class="navitem">
                                    
                                        <a href="../screenshots/" class="nav-link">Videos & Screenshots</a>
                                </li>
<!--                            <li class="navitem">
                                <a href="../faq/" class="nav-link">FAQ</a>
</li> -->
                                <li class="navitem">
                                    
                                        <a href="../faq/" class="nav-link">FAQ</a>
                                </li>
<!--                            <li class="navitem">
                                <a href="../../help/en/Privacy/" class="nav-link">Privacy</a>
</li> -->
                                <li class="navitem">
                                    
                                        <a href="../../help/en/Privacy/" class="nav-link">Privacy</a>
                                </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>

<!--
                            <li class="nav-item">
                                <a rel="prev" href="../tag_only/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../data_styling/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li> -->
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
<!--                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="2"><a href="#vespucci-preset-system" class="nav-link">Vespucci Preset System</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
<div class="col-md-9" role="main">

<h2 id="vespucci-preset-system">Vespucci Preset System</h2>
<p><em>Documentation for Vespucci 17.1</em></p>
<p>As explained in the <a href="../../help/en/Presets/">help documentation</a> Vespucci uses JOSM compatible presets, currently any preset used in JOSM should simply work with Vespucci, however there can be differences. Particularly with the new preset driven tagging interface presets have become even more important and if you are writing presets yourself and want them to work well in Vespucci please keep on reading.</p>
<h3 id="preset-driven-tag-editing-in-vespucci">Preset-Driven Tag-Editing in Vespucci</h3>
<p><img alt=" " src="../images/form_editor_small.png" /></p>
<p>For the preset based editing to work Vespucci has to match the existing tags, including incomplete, key-only ones with the available presets. This is done in an iterative fashion: the best matching preset is found (weighting presets with fixed key-value tuples higher than such with variable values), then all tags that can be found in linked presets are added (no separate header displayed) and this process is repeated until their are either no tags left or no preset match can be found.</p>
<h3 id="supported-josm-preset-elements-and-attributes">Supported JOSM Preset Elements and Attributes</h3>
<p>Note: this is loosely based on what <a href="https://josm.openstreetmap.de/wiki/TaggingPresets">JOSM claims</a> that works, this may, and likely is, different from the actual implementation. Language specific attributes are ignored (see <a href="#Translation">Translation</a>). "supported" doesn't necessarily imply the same behaviour as JOSM, simply that Vespucci will do something useful with the value. Icons currently must be in PNG format.</p>
<table>
<thead>
<tr>
<th>Element</th>
<th>Attributes</th>
<th>Support</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>&lt;presets&gt;</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>author</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>version</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>description</td>
<td>partial</td>
<td></td>
</tr>
<tr>
<td></td>
<td>shortdescription</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>link</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>icon</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>baselanguage</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>object_keys</td>
<td>extension</td>
<td>comma separated list of top-level keys</td>
</tr>
<tr>
<td><strong>&lt;!-- comment --&gt;</strong></td>
<td></td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;group&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>name</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>name_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>icon</td>
<td>supported</td>
<td>you really should add one for Vespucci</td>
</tr>
<tr>
<td></td>
<td>items_sort</td>
<td>extension</td>
<td>sort the items alphabetically, default "yes"</td>
</tr>
<tr>
<td></td>
<td>regions</td>
<td>extension</td>
<td>comma separated list of countries this preset group is applicable for</td>
</tr>
<tr>
<td></td>
<td>exclude_regions</td>
<td>extension</td>
<td>if true, invert the meaning of regions</td>
</tr>
<tr>
<td><strong>&lt;item&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>name</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>name_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>icon</td>
<td>supported</td>
<td>you really should add one for Vespucci</td>
</tr>
<tr>
<td></td>
<td>type</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>name_template</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>name_template_filter</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>preset_name_label</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>deprecated</td>
<td>extension</td>
<td>only use the preset for matching and map icon display</td>
</tr>
<tr>
<td></td>
<td>regions</td>
<td>extension</td>
<td>comma separated list of countries this preset item is applicable for</td>
</tr>
<tr>
<td></td>
<td>exclude_regions</td>
<td>extension</td>
<td>if true, invert the meaning of regions</td>
</tr>
<tr>
<td></td>
<td>autoapply</td>
<td>extension</td>
<td>if true (default), allow auto-applying of the item</td>
</tr>
<tr>
<td></td>
<td>min_match</td>
<td>extension</td>
<td>an integer indicating the minimum number of fixed tags that need to match (default is all fixed tags)</td>
</tr>
<tr>
<td><strong>&lt;chunk&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>id</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td><strong>&lt;reference&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>ref</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td><strong>&lt;key&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>value</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>match</td>
<td>partial</td>
<td>"none" is supported</td>
</tr>
<tr>
<td></td>
<td>match_expression</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>extension</td>
<td>Something to display</td>
</tr>
<tr>
<td></td>
<td>values_context</td>
<td>extension</td>
<td>Translation context</td>
</tr>
<tr>
<td></td>
<td>object</td>
<td>extension</td>
<td>If present and true or false the tag will be considered as defining/not-defining a top level object, overriding the normal rules</td>
</tr>
<tr>
<td><strong>&lt;text&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>key</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match</td>
<td>partial</td>
<td>only the "key", "key!" and "none" values are supported, all other values are ignored</td>
</tr>
<tr>
<td></td>
<td>match_expression</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>default</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>use_last_as_default</td>
<td>partial</td>
<td>"force" has the same effect as "true"</td>
</tr>
<tr>
<td></td>
<td>auto_increment</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>length</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>alternative_autocomplete_keys</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>javascript</td>
<td>extension</td>
<td>if value is not set, execute the JS script</td>
</tr>
<tr>
<td></td>
<td>i18n</td>
<td>extension</td>
<td>if set to true this tag has i18n variants</td>
</tr>
<tr>
<td></td>
<td>value_type</td>
<td>extension</td>
<td>indicate the kind of value this tag should have</td>
</tr>
<tr>
<td><strong>&lt;combo&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>key</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values_sort</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>delimiter</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>default</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match_expression</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>display_values</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>short_descriptions</td>
<td>partial</td>
<td>will only be used if display_values is not present</td>
</tr>
<tr>
<td></td>
<td>values_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>editable</td>
<td>supported</td>
<td>default is "false"</td>
</tr>
<tr>
<td></td>
<td>use_last_as_default</td>
<td>partial</td>
<td>"force" has the same effect as "true"</td>
</tr>
<tr>
<td></td>
<td>values_searchable</td>
<td>supported</td>
<td>subtype values are added regardless of the setting</td>
</tr>
<tr>
<td></td>
<td>length</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values_no_i18n</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values_from</td>
<td>supported</td>
<td>extension: if the target method supports a String argument the current key will be passed</td>
</tr>
<tr>
<td><strong>&lt;multiselect&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>key</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values_sort</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>delimiter</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>default</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match_expression</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>display_values</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>short_descriptions</td>
<td>partial</td>
<td>will only be used if display_values is not present</td>
</tr>
<tr>
<td></td>
<td>values_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>editable</td>
<td>supported</td>
<td>default is "false"</td>
</tr>
<tr>
<td></td>
<td>use_last_as_default</td>
<td>partial</td>
<td>"force" has the same effect as "true"</td>
</tr>
<tr>
<td></td>
<td>values_searchable</td>
<td>supported</td>
<td>subtype values are added regardless of the setting</td>
</tr>
<tr>
<td></td>
<td>length</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values_no_i18n</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values_from</td>
<td>supported</td>
<td>extension: if the target method supports a String argument the current key will be passed</td>
</tr>
<tr>
<td></td>
<td>rows</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>value_count_key</td>
<td>extension</td>
<td>reference to a tag that will hold the number of values this multiselect should contain</td>
</tr>
<tr>
<td><strong>&lt;list_entry&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>value</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>display_value</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>short_description</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>icon</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>icon_size</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;checkgroup&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>columns</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>extension</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text_context</td>
<td>extension</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;check&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>key</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>value_on</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>value_off</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>disable_off</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>default</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match_expression</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>use_last_as_default</td>
<td>extension</td>
<td>"force" has the same effect as "true"</td>
</tr>
<tr>
<td><strong>&lt;label&gt;</strong></td>
<td></td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;space/&gt;</strong></td>
<td></td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;optional&gt;</strong></td>
<td></td>
<td>supported</td>
<td>contained fields are not displayed the in "Properties" tab when a preset is applied except if applying with optional fields is used, further matching ignores any optional fields</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>ignored</td>
<td>not displayed</td>
</tr>
<tr>
<td><strong>&lt;separator/&gt;</strong></td>
<td></td>
<td>supported</td>
<td>starts a new row in the preset selection display</td>
</tr>
<tr>
<td><strong>&lt;item_separator/&gt;</strong></td>
<td></td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;link&gt;</strong></td>
<td></td>
<td>supported</td>
<td>not legal inside &lt;chunk&gt; elements</td>
</tr>
<tr>
<td></td>
<td>href</td>
<td>supported</td>
<td>including language specific variants</td>
</tr>
<tr>
<td></td>
<td>wiki</td>
<td>supported</td>
<td>this will be used with lower preference than href entries</td>
</tr>
<tr>
<td><strong>&lt;roles&gt;</strong></td>
<td></td>
<td>ignored</td>
<td>but not the included &lt;role&gt; elements</td>
</tr>
<tr>
<td><strong>&lt;role&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>key</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>requisite</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>count</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>type</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>member_expression</td>
<td>supported</td>
<td>See <a href="../object_search/">search language documentation</a></td>
</tr>
<tr>
<td></td>
<td>regexp</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;preset_link&gt;</strong></td>
<td></td>
<td>supported</td>
<td>Used for tag matching and added to preset MRU list for easy access</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text_context</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>alternative</td>
<td>extension</td>
<td>If "true", the linked to preset is an alternative tagging for the object in question</td>
</tr>
</tbody>
</table>
<h3 id="translation">Translation <a name="Translation"></a></h3>
<p>While the preset specification includes language specific text by prefixing the keys with the two letter ISO code, for example <em>de.text</em>, in practical terms this doesn't really work. Particularly if lots of languages are in use, the preset file itself would explode in size, become essentially illegible and force the application to parse many 100's if not 1000's of attributes for languages it is not interested in.</p>
<p>For Vespucci I've chosen a different approach based on <a href="https://www.gnu.org/software/gettext/manual/gettext.html">GNU gettext</a> format files, the simple <a href="https://github.com/simonpoole/beautified-JOSM-preset/tree/master/src/ch/poole/presetutils">Preset2Pot</a> utility will generate a .pot file from a preset which you can use with one of the translation services to produce GNU gettext compatible translations of all the strings in the preset (excluding the actual key and value strings).</p>
<h3 id="extensions">Extensions</h3>
<ul>
<li><em>deprecated</em> only use this preset for matching, do not offer it for new use and do not find it when searched, it will work analogous for deprecated tags and values.</li>
<li><em>javascript</em> execute the script if the value of this tag is empty, the script has access to and can modify the current tags and use the specified default value if any.</li>
<li><em>i18n</em> the tag can have i18n variants, for example name and name:de.</li>
<li><em>object_keys</em> comma separated list of top level keys, examples would be highway, amenity etc., use this if your preset is introducing new such keys, see the <a href="https://github.com/simonpoole/xmas-preset">Christmas preset</a> for an example.</li>
<li><em>object</em> on fixed value tags. If present and true or false the tag will be considered as defining/not-defining a top level object, overriding the normal rules (see above).</li>
<li>
<p><em>value_type</em> type of the value. This avoids having to hardcode such properties in applications, see the <a href="https://github.com/simonpoole/xmas-preset">Christmas preset</a> for an example.</p>
<ul>
<li><em>opening_hours</em> a normal opening hours syntax tag</li>
<li><em>opening_hours_mixed</em> a tag with both text values and opening hours, examples: <em>fee</em>, <em>supervised</em> and <em>lit</em></li>
<li><em>conditional</em> conditional access tag</li>
<li><em>integer</em> a integer numeric value</li>
<li><em>website</em> an URL for a website</li>
<li><em>phone</em> a phone number</li>
<li><em>wikipedia</em> a wikipedia page</li>
<li><em>wikidata</em>  a wikidata Q ref</li>
</ul>
</li>
<li>
<p><em>items_sort</em> this controls sorting of items in groups, the default is "yes", any other value will disable sorting, the sorting preserves structure. Note: the preset root groups are currently not sortable.</p>
</li>
<li><em>regions</em> comma separated list of countries this preset group or item is applicable for.</li>
<li><em>exclude_regions</em> if true, invert the meaning of regions.</li>
<li><em>autoapply</em> if true (default), allow auto-applying of the item.</li>
<li><em>min_match</em> modifies Vespuccis matching algorithm to use the specified number of fixed tag matches instead of expecting all to match.</li>
<li><em>value_count_key</em> reference to a tag that will hold the number of values this multiselect should contain. Example for the destination:lanes tag this would be value_count_key="lanes".</li>
<li><em>alternative</em> indicates that the preset_link points to an alternative tagging of the object.</li>
</ul></div> -->
		    
                    	<div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="2"><a href="#vespucci-preset-system" class="nav-link">Vespucci Preset System</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    	<div class="col-md-9" role="main">

<h2 id="vespucci-preset-system">Vespucci Preset System</h2>
<p><em>Documentation for Vespucci 17.1</em></p>
<p>As explained in the <a href="../../help/en/Presets/">help documentation</a> Vespucci uses JOSM compatible presets, currently any preset used in JOSM should simply work with Vespucci, however there can be differences. Particularly with the new preset driven tagging interface presets have become even more important and if you are writing presets yourself and want them to work well in Vespucci please keep on reading.</p>
<h3 id="preset-driven-tag-editing-in-vespucci">Preset-Driven Tag-Editing in Vespucci</h3>
<p><img alt=" " src="../images/form_editor_small.png" /></p>
<p>For the preset based editing to work Vespucci has to match the existing tags, including incomplete, key-only ones with the available presets. This is done in an iterative fashion: the best matching preset is found (weighting presets with fixed key-value tuples higher than such with variable values), then all tags that can be found in linked presets are added (no separate header displayed) and this process is repeated until their are either no tags left or no preset match can be found.</p>
<h3 id="supported-josm-preset-elements-and-attributes">Supported JOSM Preset Elements and Attributes</h3>
<p>Note: this is loosely based on what <a href="https://josm.openstreetmap.de/wiki/TaggingPresets">JOSM claims</a> that works, this may, and likely is, different from the actual implementation. Language specific attributes are ignored (see <a href="#Translation">Translation</a>). "supported" doesn't necessarily imply the same behaviour as JOSM, simply that Vespucci will do something useful with the value. Icons currently must be in PNG format.</p>
<table>
<thead>
<tr>
<th>Element</th>
<th>Attributes</th>
<th>Support</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>&lt;presets&gt;</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>author</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>version</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>description</td>
<td>partial</td>
<td></td>
</tr>
<tr>
<td></td>
<td>shortdescription</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>link</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>icon</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>baselanguage</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>object_keys</td>
<td>extension</td>
<td>comma separated list of top-level keys</td>
</tr>
<tr>
<td><strong>&lt;!-- comment --&gt;</strong></td>
<td></td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;group&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>name</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>name_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>icon</td>
<td>supported</td>
<td>you really should add one for Vespucci</td>
</tr>
<tr>
<td></td>
<td>items_sort</td>
<td>extension</td>
<td>sort the items alphabetically, default "yes"</td>
</tr>
<tr>
<td></td>
<td>regions</td>
<td>extension</td>
<td>comma separated list of countries this preset group is applicable for</td>
</tr>
<tr>
<td></td>
<td>exclude_regions</td>
<td>extension</td>
<td>if true, invert the meaning of regions</td>
</tr>
<tr>
<td><strong>&lt;item&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>name</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>name_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>icon</td>
<td>supported</td>
<td>you really should add one for Vespucci</td>
</tr>
<tr>
<td></td>
<td>type</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>name_template</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>name_template_filter</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>preset_name_label</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>deprecated</td>
<td>extension</td>
<td>only use the preset for matching and map icon display</td>
</tr>
<tr>
<td></td>
<td>regions</td>
<td>extension</td>
<td>comma separated list of countries this preset item is applicable for</td>
</tr>
<tr>
<td></td>
<td>exclude_regions</td>
<td>extension</td>
<td>if true, invert the meaning of regions</td>
</tr>
<tr>
<td></td>
<td>autoapply</td>
<td>extension</td>
<td>if true (default), allow auto-applying of the item</td>
</tr>
<tr>
<td></td>
<td>min_match</td>
<td>extension</td>
<td>an integer indicating the minimum number of fixed tags that need to match (default is all fixed tags)</td>
</tr>
<tr>
<td><strong>&lt;chunk&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>id</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td><strong>&lt;reference&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>ref</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td><strong>&lt;key&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>value</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>match</td>
<td>partial</td>
<td>"none" is supported</td>
</tr>
<tr>
<td></td>
<td>match_expression</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>extension</td>
<td>Something to display</td>
</tr>
<tr>
<td></td>
<td>values_context</td>
<td>extension</td>
<td>Translation context</td>
</tr>
<tr>
<td></td>
<td>object</td>
<td>extension</td>
<td>If present and true or false the tag will be considered as defining/not-defining a top level object, overriding the normal rules</td>
</tr>
<tr>
<td><strong>&lt;text&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>key</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match</td>
<td>partial</td>
<td>only the "key", "key!" and "none" values are supported, all other values are ignored</td>
</tr>
<tr>
<td></td>
<td>match_expression</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>default</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>use_last_as_default</td>
<td>partial</td>
<td>"force" has the same effect as "true"</td>
</tr>
<tr>
<td></td>
<td>auto_increment</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>length</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>alternative_autocomplete_keys</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>javascript</td>
<td>extension</td>
<td>if value is not set, execute the JS script</td>
</tr>
<tr>
<td></td>
<td>i18n</td>
<td>extension</td>
<td>if set to true this tag has i18n variants</td>
</tr>
<tr>
<td></td>
<td>value_type</td>
<td>extension</td>
<td>indicate the kind of value this tag should have</td>
</tr>
<tr>
<td><strong>&lt;combo&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>key</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values_sort</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>delimiter</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>default</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match_expression</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>display_values</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>short_descriptions</td>
<td>partial</td>
<td>will only be used if display_values is not present</td>
</tr>
<tr>
<td></td>
<td>values_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>editable</td>
<td>supported</td>
<td>default is "false"</td>
</tr>
<tr>
<td></td>
<td>use_last_as_default</td>
<td>partial</td>
<td>"force" has the same effect as "true"</td>
</tr>
<tr>
<td></td>
<td>values_searchable</td>
<td>supported</td>
<td>subtype values are added regardless of the setting</td>
</tr>
<tr>
<td></td>
<td>length</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values_no_i18n</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values_from</td>
<td>supported</td>
<td>extension: if the target method supports a String argument the current key will be passed</td>
</tr>
<tr>
<td><strong>&lt;multiselect&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>key</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values_sort</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>delimiter</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>default</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match_expression</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>display_values</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>short_descriptions</td>
<td>partial</td>
<td>will only be used if display_values is not present</td>
</tr>
<tr>
<td></td>
<td>values_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>editable</td>
<td>supported</td>
<td>default is "false"</td>
</tr>
<tr>
<td></td>
<td>use_last_as_default</td>
<td>partial</td>
<td>"force" has the same effect as "true"</td>
</tr>
<tr>
<td></td>
<td>values_searchable</td>
<td>supported</td>
<td>subtype values are added regardless of the setting</td>
</tr>
<tr>
<td></td>
<td>length</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values_no_i18n</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>values_from</td>
<td>supported</td>
<td>extension: if the target method supports a String argument the current key will be passed</td>
</tr>
<tr>
<td></td>
<td>rows</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>value_count_key</td>
<td>extension</td>
<td>reference to a tag that will hold the number of values this multiselect should contain</td>
</tr>
<tr>
<td><strong>&lt;list_entry&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>value</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>display_value</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>short_description</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>icon</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>icon_size</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;checkgroup&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>columns</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>extension</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text_context</td>
<td>extension</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;check&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>key</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>value_on</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>value_off</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>disable_off</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>default</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>match_expression</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>use_last_as_default</td>
<td>extension</td>
<td>"force" has the same effect as "true"</td>
</tr>
<tr>
<td><strong>&lt;label&gt;</strong></td>
<td></td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;space/&gt;</strong></td>
<td></td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;optional&gt;</strong></td>
<td></td>
<td>supported</td>
<td>contained fields are not displayed the in "Properties" tab when a preset is applied except if applying with optional fields is used, further matching ignores any optional fields</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>ignored</td>
<td>not displayed</td>
</tr>
<tr>
<td><strong>&lt;separator/&gt;</strong></td>
<td></td>
<td>supported</td>
<td>starts a new row in the preset selection display</td>
</tr>
<tr>
<td><strong>&lt;item_separator/&gt;</strong></td>
<td></td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;link&gt;</strong></td>
<td></td>
<td>supported</td>
<td>not legal inside &lt;chunk&gt; elements</td>
</tr>
<tr>
<td></td>
<td>href</td>
<td>supported</td>
<td>including language specific variants</td>
</tr>
<tr>
<td></td>
<td>wiki</td>
<td>supported</td>
<td>this will be used with lower preference than href entries</td>
</tr>
<tr>
<td><strong>&lt;roles&gt;</strong></td>
<td></td>
<td>ignored</td>
<td>but not the included &lt;role&gt; elements</td>
</tr>
<tr>
<td><strong>&lt;role&gt;</strong></td>
<td></td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>key</td>
<td>supported</td>
<td>required</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text_context</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>requisite</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>count</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>type</td>
<td>supported</td>
<td></td>
</tr>
<tr>
<td></td>
<td>member_expression</td>
<td>supported</td>
<td>See <a href="../object_search/">search language documentation</a></td>
</tr>
<tr>
<td></td>
<td>regexp</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td><strong>&lt;preset_link&gt;</strong></td>
<td></td>
<td>supported</td>
<td>Used for tag matching and added to preset MRU list for easy access</td>
</tr>
<tr>
<td></td>
<td>text</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>text_context</td>
<td>ignored</td>
<td></td>
</tr>
<tr>
<td></td>
<td>alternative</td>
<td>extension</td>
<td>If "true", the linked to preset is an alternative tagging for the object in question</td>
</tr>
</tbody>
</table>
<h3 id="translation">Translation <a name="Translation"></a></h3>
<p>While the preset specification includes language specific text by prefixing the keys with the two letter ISO code, for example <em>de.text</em>, in practical terms this doesn't really work. Particularly if lots of languages are in use, the preset file itself would explode in size, become essentially illegible and force the application to parse many 100's if not 1000's of attributes for languages it is not interested in.</p>
<p>For Vespucci I've chosen a different approach based on <a href="https://www.gnu.org/software/gettext/manual/gettext.html">GNU gettext</a> format files, the simple <a href="https://github.com/simonpoole/beautified-JOSM-preset/tree/master/src/ch/poole/presetutils">Preset2Pot</a> utility will generate a .pot file from a preset which you can use with one of the translation services to produce GNU gettext compatible translations of all the strings in the preset (excluding the actual key and value strings).</p>
<h3 id="extensions">Extensions</h3>
<ul>
<li><em>deprecated</em> only use this preset for matching, do not offer it for new use and do not find it when searched, it will work analogous for deprecated tags and values.</li>
<li><em>javascript</em> execute the script if the value of this tag is empty, the script has access to and can modify the current tags and use the specified default value if any.</li>
<li><em>i18n</em> the tag can have i18n variants, for example name and name:de.</li>
<li><em>object_keys</em> comma separated list of top level keys, examples would be highway, amenity etc., use this if your preset is introducing new such keys, see the <a href="https://github.com/simonpoole/xmas-preset">Christmas preset</a> for an example.</li>
<li><em>object</em> on fixed value tags. If present and true or false the tag will be considered as defining/not-defining a top level object, overriding the normal rules (see above).</li>
<li>
<p><em>value_type</em> type of the value. This avoids having to hardcode such properties in applications, see the <a href="https://github.com/simonpoole/xmas-preset">Christmas preset</a> for an example.</p>
<ul>
<li><em>opening_hours</em> a normal opening hours syntax tag</li>
<li><em>opening_hours_mixed</em> a tag with both text values and opening hours, examples: <em>fee</em>, <em>supervised</em> and <em>lit</em></li>
<li><em>conditional</em> conditional access tag</li>
<li><em>integer</em> a integer numeric value</li>
<li><em>website</em> an URL for a website</li>
<li><em>phone</em> a phone number</li>
<li><em>wikipedia</em> a wikipedia page</li>
<li><em>wikidata</em>  a wikidata Q ref</li>
</ul>
</li>
<li>
<p><em>items_sort</em> this controls sorting of items in groups, the default is "yes", any other value will disable sorting, the sorting preserves structure. Note: the preset root groups are currently not sortable.</p>
</li>
<li><em>regions</em> comma separated list of countries this preset group or item is applicable for.</li>
<li><em>exclude_regions</em> if true, invert the meaning of regions.</li>
<li><em>autoapply</em> if true (default), allow auto-applying of the item.</li>
<li><em>min_match</em> modifies Vespuccis matching algorithm to use the specified number of fixed tag matches instead of expecting all to match.</li>
<li><em>value_count_key</em> reference to a tag that will hold the number of values this multiselect should contain. Example for the destination:lanes tag this would be value_count_key="lanes".</li>
<li><em>alternative</em> indicates that the preset_link points to an alternative tagging of the object.</li>
</ul></div>
                    
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
	    <!--            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p> -->
	    <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> for Vespucci 18.0.0 </p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
