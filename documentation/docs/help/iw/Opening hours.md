# עורך שעות הפתיחה של OpenStreetMap

מפרט שעות הפתיחה של OpenStreetMap הוא די מורכב ולא מסביר פנים בהיבט של מנשק משתמש פשוט וברור.

עם זאת, סביר להניח שברוב הזמן יידרש לך רק חלק מצומצם מתוך המנגנון. העורך לוקח זאת בחשבון תוך הסתרת תכונות שאינן שימושיות בתפריטים וברוב המקרים מצמצם את השימוש השוטף להתאמות קטנות של תבניות מותאמות אישית.

_תיעוד זה הוא ראשוני בלבד וכרגע מתבצעות עליו עבודות עריכה נוספות_

## שימוש בעורך שעות הפתיחה

במצב עבודה טיפוסי לפריט שבחרת לערוך כבר יש תגית שעות פתיחה (opening_hours,‏ service_times ו־collection_times) או שניתן להחיל מחדש את הערכה עבור הפריט כדי לקבל שדה שעות פתיחה ריק. אם יש לך צורך בהוספת השדה ידנית וניסית לעשות זאת דרך וספוצ׳י ניתן להקליד את שם המפתח בעמוד הפרטים ואז לחזור ללשונית מבוססת הטפסים לטובת עריכה. אם לדעתך תגית שעות הפתיחה אמורה להיות חלק מהערכה הראשונית, נא לדווח על תקלה כנגד העורך שלך.

אם הגדרת תבנית בררת מחדל (ניתן לעשות זאת דרך הפריט „ניהול תבניות” שבתפריט) היא תיטען אוטומטית עם הפעלת העורך עם ערך ריק. עם התכונה „טעינת תבנית” ניתן לטעון תבניות שנשמרו ועם התפריט „שמירת תבנית” ניתן לשמור את הערך הנוכחי כתבנית. ניתן להגדיר תבניות נפרדות ובררות מחדל עבור התגיות „opening_hours” (שעות פתיחה),‏ „collection_times” (מועדי איסוף) ו־„service_times” (שעות שירות).

באופן טבעי ניתן להרכיב ערך שעות פתיחה מאפשר, אך אנו ממליצים להשתמש באחת מהתבניות הקיימות כנקודת התחלה.

אם נטען ערך קיים של שעות פתיחה, מתבצע ניסיון לתקן אותו אוטומטית כדי להתאים למפרט שעות הפתיחה. אם פעולה כזו אינה אפשרית המיקום בקירוב בו התרחשה השגיאה יודגש בתצוגה של ערכי שעות הפתיחה הגולמיים ותהיה לך אפשרות לנסות ולתקן זאת ידנית. בערך ברבע מערכי שעות הפתיחה במסד הנתונים של OpenStreetMap יש תקלות אך פחות מ־10% אינן ניתנות לתיקון, יש לעיין בערך [OpeningHoursParser](https://github.com/simonpoole/OpeningHoursParser) (מנתח שעות פתיחה) לקבלת מידע נוסף על אילו סטיות מהמפרט נסבלות.

### כפתור תפריט ראשי

* __הוספת כלל__: הוספת כלל חדש.
* __הוספת כלל לחגים__: הוספת כלל חדש לחג יחד עם שינוי מצב.
* __הוספת כלל ל־24/7__: הוספת כלל לפריט שתמיד פתוח, מפרט שעות הפתיחה לא תומך בערכים נגזרים עבור 24/7 עם זאת אנו מאפשרים הוספת בוררים ברמה גבוהה יותר (למשל: טווח שנים).
* __טעינת תבנית__: טעינת תבנית קיימת.
* __שמירה לתבנית__: שמירת ערך שעות הפתיחה הנוכחי כתבנית לשימוש עתידי.
* __ניהול תבניות__: עריכה, למשל שינוי השם ומחיקה של תבניות קיימות.
* __רענון__: פענוח ערך שעות הפתיחה מחדש.
* __מחיקת הכול__: הסרת כל הכללים.

### כללים

כללי בררת המחדל נוספו ככללים מסוג _רגיל_, הגדרה זו מרמזת על כך שהם יידרסו על ידי הערכים של הכללים הקודמים עבור אותם ימים. מצב זה עשוי להדאיג בהגדרת זמנים מורחבים, במיוחד עקב החלפת כללים דרך רשומת התפריט _הצגת סוג כלל_ לכלל _מתווסף_.

#### תפריט כללים

* __הוספת מצב/תגובה__: שינוי ההשפעה של הכלל הזה והוספת תגובה כרשות.
* __הוספת חג__: הוספת בורר לחגים ציבוריים או חגי בית ספר.
* __הוספת טווח זמן…__
    * __שעה - שעה__: שעת התחלה עד שעת סיום באותו היום.
    * __שעה - שעה מורחבת__: שעת התחלה עד שעת סיום ביום שלמחרת (למשל: 26:00 זה 02:00 לפנות בוקר ביום הבא).
    * __שעה משתנה - שעה__: משעת התחלה משתנה (שחר, דמדומים, זריחה ושקיעה) עד לשעת סיום באותו היום.
    * __שעה משתנה - שעה מורחבת__: משעת התחלה משתנה ועד לשעת סיום ביום שלמחרת.
    * __שעה - שעה משתנה__: שעת התחלה עד שעת סיום משתנה.
    * __שעה משתנה - שעה משתנה__: שעת התחלה משתנה עד שעת סיום משתנה.
    * __שעה__: נקודה בזמן.
    * __שעה - הודעה חדשה__: מנקודת התחלה בזמן ואילך.
    * __שעה משתנה__: בשעה משתנה
    * __שעה משתנה - הודעה חדשה__: משעת התחלה משתנה ואילך
* __הוספת טווח ימים בשבוע__: הוספת בורר על סמך ימים בשבוע.
* __הוספת טווח תאריכים…__
    * __תאריך - תאריך__: מתאריך התחלה (שנה, חודש, יום) עד לתאריך סיום.
    * __תאריך משתנה - תאריך__: מתאריך התחלה משתנה (כרגע המפרט מגדיר רק את _פסחא_) עד לתאריך סיום.
    * __תאריך - תאריך משתנה__: מתאריך התחלה ועד תאריך משתנה.
    * __תאריך משתנה - תאריך משתנה__: מתאריך התחלה משתנה עד תאריך סיום משתנה.
    * __פעם בחודש - פעם בחודש__: החל ממופע של יום בשבוע מתוך חודש עד לאחד נוסף כזה.
    * __פעם בחודש - תאריך__: החל ממופע של יום בשבוע מתוך חודש עד לתאריך סיום.
    * __תאריך - פעם בחודש__: מתאריך התחלה עד מופע של יום בשבוע מתוך חודש.
    * __פעם בחודש - תאריך משתנה__: החל ממופע של יום בשבוע מתוך חודש עד לתאריך סיום משתנה.
    * __תאריך משתנה - פעם בחודש__: מתאריך התחלה משתנה עד מופע של יום בשבוע מתוך חודש.
    * __שעה - הודעה חדשה__: משעה מסוימת ואילך.
    * __תאריך משתנה - הודעה חדשה__: מתאריך התחלה משתנה ואילך.
    * __פעם בחודש - הודעה חדשה__: החל ממופע של יום בשבוע מתוך חודש ואילך.
    * __עם איזונים…__: אותן הרשומות כלעיל רק עם איזונים (בקושי בשימוש).
* __הוספת טווח שנים__: הוספת בורר לבחירת שנים.
* __הוספת טווח שבועות__: הוספת בורר לבחירת מספרי שבועות.
* __שכפול__: יצירת עותק של הכלל הזה והוספתו לאחר המיקום הנוכחי.
* __הצגת סוג כלל__: להציג ולאפשר לשנות את סוג הכלל _רגיל_, _מתווסף_ ו_עתודה_ (לא זמין בתור הכלל הראשון).
* __העברה למעלה__: העלאת הכלל הזה בשורה אחת למעלה (לא זמין עבור הכלל הראשון).
* __העברה למטה__: הורדת הכלל הזה בשורה אחת למטה.
* __מחיקה__: מחיקת הכלל הזה.

### טווחי שעות

כדי להקל על עריכת טווי שעות עד כמה שניתן, אנו מנסים לבחור טווח שעות מיטבי ויכולת בחירה מוגדרת עבור סרגלי הטווח בעת טעינת ערכים קיימים. לטווחי שעות חדשים, הסרגלים מתחילים ב־6:00 בבוקר וניתן להגדיל ב־15 דקות בכל צעד, ניתן לשנות זאת דרך התפריט.

Clicking (not on the pins) the time bar will open the large time picker, when using the bars directly is too difficult. The time pickers extend in to the next day, so they are a simple way to extend a time range without having to delete and re-add the the range.

#### תפריט טווחי שעות

* __Display time picker__: show a large time picker for selecting start and end time, on very small displays this is the preferred way of changing times.
* __מעבר לפעימות של 15 דקות__: להשתמש בדיוק של 15 דקות עבור סרגל הטווח.
* __מעבר לפעימות של 5 דקות__: להשתמש בדיוק של 5 דקות עבור סרגל הטווח.
* __מעבר לפעימות של דקה__: להשתמש בדיוק של דקה עבור סרגל הטווח, לא נוח לשימוש בטלפון.
* __התחלה בחצות__: התחלת סרגל הטווח בחצות.
* __הצגת הפרש__: הצגת שדה ההפרש לציון הפרש בדקות.
* __מחיקה__: מחיקת טווח הזמן הזה.

