<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>14.1.0 Release notes - Vespucci</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/docco.min.css">

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">

<!--
                <a class="navbar-brand" href="../../..">Vespucci</a> -->
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
<!--                            <li class="navitem">
                                <a href="../../.." class="nav-link">Vespucci</a>
</li> -->
                                <li class="navitem">
                                    
                                        <a href="../../.." class="nav-link"><img src="/vespucci_logo_small.png"></a>
                                </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Introduction <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../Introduction/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../../../tutorials/features/" class="dropdown-item">Features</a>
</li>
                                    
<li>
    <a href="../19.3.0%20Release%20notes/" class="dropdown-item">19.3.0 Release notes</a>
</li>
                                    
<li>
    <a href="../19.2.0%20Release%20notes/" class="dropdown-item">19.2.0 Release notes</a>
</li>
                                    
<li>
    <a href="../19.1.0%20Release%20notes/" class="dropdown-item">19.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../19.0.0%20Release%20notes/" class="dropdown-item">19.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../18.1.0%20Release%20notes/" class="dropdown-item">18.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../18.0.0%20Release%20notes/" class="dropdown-item">18.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../17.1.0%20Release%20notes/" class="dropdown-item">17.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../17.0.0%20Release%20notes/" class="dropdown-item">17.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../16.1.0%20Release%20notes/" class="dropdown-item">16.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../16.0.0%20Release%20notes/" class="dropdown-item">16.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../15.2.0%20Release%20notes/" class="dropdown-item">15.2.0 Release notes</a>
</li>
                                    
<li>
    <a href="../15.1.0%20Release%20notes/" class="dropdown-item">15.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../15.0.0%20Release%20notes/" class="dropdown-item">15.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">14.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../14.0.0%20Release%20notes/" class="dropdown-item">14.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../13.1.0%20Release%20notes/" class="dropdown-item">13.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../13.0.0%20Release%20notes/" class="dropdown-item">13.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../12.1.0%20Release%20notes/" class="dropdown-item">12.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../12.0.0%20Release%20notes/" class="dropdown-item">12.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../11.2.0%20Release%20notes/" class="dropdown-item">11.2.0 Release notes</a>
</li>
                                    
<li>
    <a href="../11.1.0%20Release%20notes/" class="dropdown-item">11.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../11.0.0%20Release%20notes/" class="dropdown-item">11.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../10.2.0%20Release%20notes/" class="dropdown-item">10.2.0 Release notes</a>
</li>
                                    
<li>
    <a href="../10.1.0%20Release%20notes/" class="dropdown-item">10.1.0 Release notes</a>
</li>
                                    
<li>
    <a href="../10.0.0%20Release%20notes/" class="dropdown-item">10.0.0 Release notes</a>
</li>
                                    
<li>
    <a href="../0.9.9%20Release%20notes/" class="dropdown-item">0.9.9 Release notes</a>
</li>
                                    
<li>
    <a href="../0.9.8%20Release%20notes/" class="dropdown-item">0.9.8 Release notes</a>
</li>
                                    
<li>
    <a href="../0.9.7%20Release%20notes/" class="dropdown-item">0.9.7 Release notes</a>
</li>
                                    
<li>
    <a href="../0.9.6%20Release%20notes/" class="dropdown-item">0.9.6 Release notes</a>
</li>
                                    
<li>
    <a href="../../../tutorials/old_release_notes/" class="dropdown-item">Previous release notes</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Editing <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../Main%20map%20display/" class="dropdown-item">Main map display</a>
</li>
                                    
<li>
    <a href="../Simple%20actions/" class="dropdown-item">Simple actions</a>
</li>
                                    
<li>
    <a href="../Creating%20new%20objects/" class="dropdown-item">Creating new objects</a>
</li>
                                    
<li>
    <a href="../Node%20selected/" class="dropdown-item">Node selected</a>
</li>
                                    
<li>
    <a href="../Way%20selected/" class="dropdown-item">Way selected</a>
</li>
                                    
<li>
    <a href="../Relation%20selected/" class="dropdown-item">Relation selected</a>
</li>
                                    
<li>
    <a href="../New%20Note%20selected/" class="dropdown-item">New note selected</a>
</li>
                                    
<li>
    <a href="../Property%20editor/" class="dropdown-item">Property editor</a>
</li>
                                    
<li>
    <a href="../Multiselect/" class="dropdown-item">Multiselect</a>
</li>
                                    
<li>
    <a href="../Conflict%20resolution/" class="dropdown-item">Conflict resolution</a>
</li>
                                    
<li>
    <a href="../Presets/" class="dropdown-item">Presets</a>
</li>
                                    
<li>
    <a href="../Aligning%20background%20imagery/" class="dropdown-item">Aligning background imagery</a>
</li>
                                    
<li>
    <a href="../Keyboard/" class="dropdown-item">Keyboard and mouse</a>
</li>
                                    
<li>
    <a href="../GPS%20sources/" class="dropdown-item">GPS sources</a>
</li>
                                    
<li>
    <a href="../Tag%20filter/" class="dropdown-item">Tag based filter</a>
</li>
                                    
<li>
    <a href="../Preset%20filter/" class="dropdown-item">Preset based filter</a>
</li>
                                    
<li>
    <a href="../Opening%20hours/" class="dropdown-item">Opening hours</a>
</li>
                                    
<li>
    <a href="../Preferences/" class="dropdown-item">Preferences</a>
</li>
                                    
<li>
    <a href="../Advanced%20preferences/" class="dropdown-item">Advanced preferences</a>
</li>
                                    
<li>
    <a href="../Custom%20imagery/" class="dropdown-item">Custom imagery</a>
</li>
                                    
<li>
    <a href="../Voice%20commands/" class="dropdown-item">Voice commands</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Tutorials and Posts <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../tutorials/network_location/" class="dropdown-item">"network" Location Provider Support</a>
</li>
                                    
<li>
    <a href="../../../tutorials/custom_imagery/" class="dropdown-item">Custom imagery</a>
</li>
                                    
<li>
    <a href="../../../tutorials/custom_imagery_mbtiles/" class="dropdown-item">Generating MBTiles files with custom imagery</a>
</li>
                                    
<li>
    <a href="../../../tutorials/name_suggestions/" class="dropdown-item">Using name suggestions</a>
</li>
                                    
<li>
    <a href="../../../tutorials/reporting_issues/" class="dropdown-item">Reporting Vespucci issues</a>
</li>
                                    
<li>
    <a href="../../../tutorials/tag_only/" class="dropdown-item">Tag-only editing</a>
</li>
                                    
<li>
    <a href="../../../tutorials/presets/" class="dropdown-item">Vespucci presets</a>
</li>
                                    
<li>
    <a href="../../../tutorials/data_styling/" class="dropdown-item">Vespucci data styling</a>
</li>
                                    
<li>
    <a href="../../../tutorials/vespucci_intents/" class="dropdown-item">Controlling Vespucci from other apps</a>
</li>
                                    
<li>
    <a href="../../../tutorials/object_search/" class="dropdown-item">Object search</a>
</li>
                                    
<li>
    <a href="../../../tutorials/offline/" class="dropdown-item">Going completely offline with Vespucci</a>
</li>
                                    
<li>
    <a href="../../../tutorials/mapbox-style/" class="dropdown-item">Mapbox-GL Style Support</a>
</li>
                                    
<li>
    <a href="../../../tutorials/todos/" class="dropdown-item">Todo file format description</a>
</li>
                                </ul>
                            </li>
<!--                            <li class="navitem">
                                <a href="../../../tutorials/screenshots/" class="nav-link">Videos & Screenshots</a>
</li> -->
                                <li class="navitem">
                                    
                                        <a href="../../../tutorials/screenshots/" class="nav-link">Videos & Screenshots</a>
                                </li>
<!--                            <li class="navitem">
                                <a href="../../../tutorials/faq/" class="nav-link">FAQ</a>
</li> -->
                                <li class="navitem">
                                    
                                        <a href="../../../tutorials/faq/" class="nav-link">FAQ</a>
                                </li>
<!--                            <li class="navitem">
                                <a href="../Privacy/" class="nav-link">Privacy</a>
</li> -->
                                <li class="navitem">
                                    
                                        <a href="../Privacy/" class="nav-link">Privacy</a>
                                </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>

<!--
                            <li class="nav-item">
                                <a rel="prev" href="../15.0.0%20Release%20notes/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../14.0.0%20Release%20notes/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li> -->
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
<!--                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#vespucci-141-highlights" class="nav-link">Vespucci 14.1 Highlights</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#miscellaneous" class="nav-link">Miscellaneous</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#upgrading-from-previous-versions" class="nav-link">Upgrading from previous versions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#known-problems" class="nav-link">Known problems</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
<div class="col-md-9" role="main">

<h1 id="vespucci-141-highlights">Vespucci 14.1 Highlights<a class="headerlink" href="#vespucci-141-highlights" title="Permanent link">#</a></h1>
<p>2020-03-15</p>
<p>This is a minor release with many small improvements. 14.1 is the last release that will support devices with Android versions older than 4.0 / API 14, if you have been using the "current" releases from F-Droid or the google play store nothing will change for you, if you have been using the "legacy" build, you will either need a new device or try to upgrade the Android version on your existing one.</p>
<h3 id="drag-ring-around-selected-nodes">Drag "ring" around selected nodes<a class="headerlink" href="#drag-ring-around-selected-nodes" title="Permanent link">#</a></h3>
<p>To make selection status clearer selected nodes now have a small ring around them indicating the area that can be used for dragging. This is the same principle as the "large drag area" that has been available for many years. </p>
<h3 id="add-and-check-website-tags-with-dialog">Add and check website tags with dialog<a class="headerlink" href="#add-and-check-website-tags-with-dialog" title="Permanent link">#</a></h3>
<p>This replaces the prior pre-filled in <em>http://</em> prefix in the text fields with a dialog that allows checking the domain on the fly, and adding the correct protocol automatically. This requires network connectivity to work.</p>
<h3 id="preset-matching-improvements">Preset matching improvements<a class="headerlink" href="#preset-matching-improvements" title="Permanent link">#</a></h3>
<p>We now support a <em>min_match</em> preset item attribute that can be used to set how many fixed value tags need to match before the preset is considered for further scoring. Prior behaviour, and the default, is that all fixed tags need to match. This allows for better matching and handling of objects that currently have widespread use of two independent top level tags, for example <em>amenity=doctors</em> together with <em>healthcare=doctor</em>.</p>
<h3 id="data-rendering">Data rendering<a class="headerlink" href="#data-rendering" title="Permanent link">#</a></h3>
<p>Simple closed-way based areas can now be rendered separately from a non-closed way with the same tags. Some initial incomplete documentation on the styling system has been added to the tutorials section. </p>
<h3 id="improved-external-location-sources-support">Improved external location sources support<a class="headerlink" href="#improved-external-location-sources-support" title="Permanent link">#</a></h3>
<p>This release fixes a regression that stopped external location sources (for example Rtklib) working for devices with Android N and later. Additionally stability of the system when using such sources has been improved, including better messaging.</p>
<h3 id="support-for-filtering-background-overlay-imagery-by-category">Support for filtering background / overlay imagery by category<a class="headerlink" href="#support-for-filtering-background-overlay-imagery-by-category" title="Permanent link">#</a></h3>
<p>Imagery layers now have a <em>category</em> attribute that can be used to filter the layers in the selection dialogs. Currently the UI just offers <em>All</em> and <em>Aerial imagery</em> (that is current/recent aerial and satellite imagery), but if there is interest this can be refined further.</p>
<h3 id="use-location-to-determine-appropriate-language-specific-tags">Use location to determine appropriate language specific tags<a class="headerlink" href="#use-location-to-determine-appropriate-language-specific-tags" title="Permanent link">#</a></h3>
<p>This replaces the facility that added language specific tags based on the device language. <em>Add language tags</em> will now add language tags based on the location and the corresponding configuration from  <a href="https://github.com/simonpoole/geocontext/">https://github.com/simonpoole/geocontext/</a>.</p>
<p>Example: adding a restaurant in Switzerland and then selecting <em>Add language tags</em> in the property editor will add <em>name:de</em>, <em>name:fr</em>, <em>name:it</em>, <em>name:rm</em> and <em>name:gsw</em> tags.</p>
<h3 id="object-search">Object search<a class="headerlink" href="#object-search" title="Permanent link">#</a></h3>
<p>Vespucci now supports most of JOSMs object search "language". This can be used from the main menu and from the element selection modes. As the JOSM documentation on the feature is near non-existent it is completely possible that there are subtle behaviour differences. Currently found objects will always replace the selection of any previously selected objects and the screen will be automatically be zoomed to the bounding box of the found elements.</p>
<p>When editing elements in the property editor, relation roles will be filtered by the member_expression attribute value if present, this uses the same language.</p>
<h3 id="indication-of-stale-location">Indication of stale location<a class="headerlink" href="#indication-of-stale-location" title="Permanent link">#</a></h3>
<p>The location indicator will change to black (styleable) after a user configurable time (default 60 seconds) to indicate that the position is stale. This function only works for android 4.2 (API 17) and later.</p>
<h3 id="private-api-keys-support">Private api keys support<a class="headerlink" href="#private-api-keys-support" title="Permanent link">#</a></h3>
<p>Open source projects are always in a bit of conundrum with respect to api keys, on the one hand by definition these should be private, on the other hand when core functionality depends on them we can't simply not store them with the code if they are needed at build time for 3rd parties. </p>
<p>For example so that users of the F-Droid build can actually log in securely with OAuth without having to store their login credentials on the device, we need to include the OAuth client keys as F-Droid has no provision for keeping keys private (this does create the vulnerability that an app could masquerade as Vespucci, but the impacts of that are very limited).</p>
<p>For keys that are used solely to access services that are not critical the situation is different. The main use of these today is to access imagery sources, starting with this release, private imagery keys are provided at build time and are no longer stored in the source code repository with the exception of the Bing key that will remain for now. As a consequence the Thunderforest maps and the MAXAR aerial imagery will no longer be available in the F-Droid build.</p>
<p>In the current implementation there is no way to set your own keys or otherwise manage them, for imagery keys this is not an issue as you can simply add a custom imagery entry that directly contains the key. In the future we might provide such a management facility.</p>
<p>From a formal security point of view all of this is naturally a bit of snake oil as for example imagery apikeys that are used in urls are trivial to snoop, but at least that implies putting some effort in to finding the keys over simply scraping github repositories.</p>
<h3 id="help-viewer">Help viewer<a class="headerlink" href="#help-viewer" title="Permanent link">#</a></h3>
<p>The help viewer can now be accessed without starting the full app first, this has the added advantage that the viewer can be used in split window mode on devices that support it, or at least be used without restarting the activity. </p>
<h2 id="miscellaneous">Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permanent link">#</a></h2>
<ul>
<li>Improvements custom imagery, OAM support and imagery layer info</li>
<li>Add mechanism to filter out bad OAM entries</li>
<li>Display a toast if the user needs to restart the app after a preference change</li>
<li>Add preference to control phone number formatting</li>
<li>Support adding empty value values to MRU when use_last_as_default is set</li>
<li>Add facility to determine if there is device specific brokeness (fullscreen mode support)</li>
<li>Support autoapply preset attribute to avoid applying preset automatically when it will break things.</li>
<li>Use Note specific icons</li>
<li>Add support for tunnel and bridge specific rendering for some roads</li>
<li>Changing the accessibility font size setting will scale the preset "buttons" too.</li>
<li>Untagged objects now have a different header in the property editor.</li>
<li>Files that were downloaded with Firefox mobile couldn't be accessed, this has been resolved.</li>
<li>Re-factored undo and OSC code.</li>
</ul>
<h1 id="upgrading-from-previous-versions">Upgrading from previous versions<a class="headerlink" href="#upgrading-from-previous-versions" title="Permanent link">#</a></h1>
<ul>
<li>The format of the saved editing state (not of the saved data) has changed, you should still upload any changes before updating.</li>
</ul>
<h1 id="known-problems">Known problems<a class="headerlink" href="#known-problems" title="Permanent link">#</a></h1>
<ul>
<li>When editing multi-valued text fields, specifically <em>destination:lanes</em>, an empty final value will result in the trailing separator to be removed, see <a href="https://github.com/MarcusWolschon/osmeditor4android/issues/1072">issue 1072</a> and <a href="https://github.com/MarcusWolschon/osmeditor4android/issues/1073">issue 1073</a>.</li>
<li>The documentation is out of date.</li>
<li>For known problems with this build please see <a href="https://github.com/MarcusWolschon/osmeditor4android/issues">our issue tracker</a></li>
</ul></div> -->
		    
                    	<div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#vespucci-141-highlights" class="nav-link">Vespucci 14.1 Highlights</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#miscellaneous" class="nav-link">Miscellaneous</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#upgrading-from-previous-versions" class="nav-link">Upgrading from previous versions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#known-problems" class="nav-link">Known problems</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    	<div class="col-md-9" role="main">

<h1 id="vespucci-141-highlights">Vespucci 14.1 Highlights<a class="headerlink" href="#vespucci-141-highlights" title="Permanent link">#</a></h1>
<p>2020-03-15</p>
<p>This is a minor release with many small improvements. 14.1 is the last release that will support devices with Android versions older than 4.0 / API 14, if you have been using the "current" releases from F-Droid or the google play store nothing will change for you, if you have been using the "legacy" build, you will either need a new device or try to upgrade the Android version on your existing one.</p>
<h3 id="drag-ring-around-selected-nodes">Drag "ring" around selected nodes<a class="headerlink" href="#drag-ring-around-selected-nodes" title="Permanent link">#</a></h3>
<p>To make selection status clearer selected nodes now have a small ring around them indicating the area that can be used for dragging. This is the same principle as the "large drag area" that has been available for many years. </p>
<h3 id="add-and-check-website-tags-with-dialog">Add and check website tags with dialog<a class="headerlink" href="#add-and-check-website-tags-with-dialog" title="Permanent link">#</a></h3>
<p>This replaces the prior pre-filled in <em>http://</em> prefix in the text fields with a dialog that allows checking the domain on the fly, and adding the correct protocol automatically. This requires network connectivity to work.</p>
<h3 id="preset-matching-improvements">Preset matching improvements<a class="headerlink" href="#preset-matching-improvements" title="Permanent link">#</a></h3>
<p>We now support a <em>min_match</em> preset item attribute that can be used to set how many fixed value tags need to match before the preset is considered for further scoring. Prior behaviour, and the default, is that all fixed tags need to match. This allows for better matching and handling of objects that currently have widespread use of two independent top level tags, for example <em>amenity=doctors</em> together with <em>healthcare=doctor</em>.</p>
<h3 id="data-rendering">Data rendering<a class="headerlink" href="#data-rendering" title="Permanent link">#</a></h3>
<p>Simple closed-way based areas can now be rendered separately from a non-closed way with the same tags. Some initial incomplete documentation on the styling system has been added to the tutorials section. </p>
<h3 id="improved-external-location-sources-support">Improved external location sources support<a class="headerlink" href="#improved-external-location-sources-support" title="Permanent link">#</a></h3>
<p>This release fixes a regression that stopped external location sources (for example Rtklib) working for devices with Android N and later. Additionally stability of the system when using such sources has been improved, including better messaging.</p>
<h3 id="support-for-filtering-background-overlay-imagery-by-category">Support for filtering background / overlay imagery by category<a class="headerlink" href="#support-for-filtering-background-overlay-imagery-by-category" title="Permanent link">#</a></h3>
<p>Imagery layers now have a <em>category</em> attribute that can be used to filter the layers in the selection dialogs. Currently the UI just offers <em>All</em> and <em>Aerial imagery</em> (that is current/recent aerial and satellite imagery), but if there is interest this can be refined further.</p>
<h3 id="use-location-to-determine-appropriate-language-specific-tags">Use location to determine appropriate language specific tags<a class="headerlink" href="#use-location-to-determine-appropriate-language-specific-tags" title="Permanent link">#</a></h3>
<p>This replaces the facility that added language specific tags based on the device language. <em>Add language tags</em> will now add language tags based on the location and the corresponding configuration from  <a href="https://github.com/simonpoole/geocontext/">https://github.com/simonpoole/geocontext/</a>.</p>
<p>Example: adding a restaurant in Switzerland and then selecting <em>Add language tags</em> in the property editor will add <em>name:de</em>, <em>name:fr</em>, <em>name:it</em>, <em>name:rm</em> and <em>name:gsw</em> tags.</p>
<h3 id="object-search">Object search<a class="headerlink" href="#object-search" title="Permanent link">#</a></h3>
<p>Vespucci now supports most of JOSMs object search "language". This can be used from the main menu and from the element selection modes. As the JOSM documentation on the feature is near non-existent it is completely possible that there are subtle behaviour differences. Currently found objects will always replace the selection of any previously selected objects and the screen will be automatically be zoomed to the bounding box of the found elements.</p>
<p>When editing elements in the property editor, relation roles will be filtered by the member_expression attribute value if present, this uses the same language.</p>
<h3 id="indication-of-stale-location">Indication of stale location<a class="headerlink" href="#indication-of-stale-location" title="Permanent link">#</a></h3>
<p>The location indicator will change to black (styleable) after a user configurable time (default 60 seconds) to indicate that the position is stale. This function only works for android 4.2 (API 17) and later.</p>
<h3 id="private-api-keys-support">Private api keys support<a class="headerlink" href="#private-api-keys-support" title="Permanent link">#</a></h3>
<p>Open source projects are always in a bit of conundrum with respect to api keys, on the one hand by definition these should be private, on the other hand when core functionality depends on them we can't simply not store them with the code if they are needed at build time for 3rd parties. </p>
<p>For example so that users of the F-Droid build can actually log in securely with OAuth without having to store their login credentials on the device, we need to include the OAuth client keys as F-Droid has no provision for keeping keys private (this does create the vulnerability that an app could masquerade as Vespucci, but the impacts of that are very limited).</p>
<p>For keys that are used solely to access services that are not critical the situation is different. The main use of these today is to access imagery sources, starting with this release, private imagery keys are provided at build time and are no longer stored in the source code repository with the exception of the Bing key that will remain for now. As a consequence the Thunderforest maps and the MAXAR aerial imagery will no longer be available in the F-Droid build.</p>
<p>In the current implementation there is no way to set your own keys or otherwise manage them, for imagery keys this is not an issue as you can simply add a custom imagery entry that directly contains the key. In the future we might provide such a management facility.</p>
<p>From a formal security point of view all of this is naturally a bit of snake oil as for example imagery apikeys that are used in urls are trivial to snoop, but at least that implies putting some effort in to finding the keys over simply scraping github repositories.</p>
<h3 id="help-viewer">Help viewer<a class="headerlink" href="#help-viewer" title="Permanent link">#</a></h3>
<p>The help viewer can now be accessed without starting the full app first, this has the added advantage that the viewer can be used in split window mode on devices that support it, or at least be used without restarting the activity. </p>
<h2 id="miscellaneous">Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permanent link">#</a></h2>
<ul>
<li>Improvements custom imagery, OAM support and imagery layer info</li>
<li>Add mechanism to filter out bad OAM entries</li>
<li>Display a toast if the user needs to restart the app after a preference change</li>
<li>Add preference to control phone number formatting</li>
<li>Support adding empty value values to MRU when use_last_as_default is set</li>
<li>Add facility to determine if there is device specific brokeness (fullscreen mode support)</li>
<li>Support autoapply preset attribute to avoid applying preset automatically when it will break things.</li>
<li>Use Note specific icons</li>
<li>Add support for tunnel and bridge specific rendering for some roads</li>
<li>Changing the accessibility font size setting will scale the preset "buttons" too.</li>
<li>Untagged objects now have a different header in the property editor.</li>
<li>Files that were downloaded with Firefox mobile couldn't be accessed, this has been resolved.</li>
<li>Re-factored undo and OSC code.</li>
</ul>
<h1 id="upgrading-from-previous-versions">Upgrading from previous versions<a class="headerlink" href="#upgrading-from-previous-versions" title="Permanent link">#</a></h1>
<ul>
<li>The format of the saved editing state (not of the saved data) has changed, you should still upload any changes before updating.</li>
</ul>
<h1 id="known-problems">Known problems<a class="headerlink" href="#known-problems" title="Permanent link">#</a></h1>
<ul>
<li>When editing multi-valued text fields, specifically <em>destination:lanes</em>, an empty final value will result in the trailing separator to be removed, see <a href="https://github.com/MarcusWolschon/osmeditor4android/issues/1072">issue 1072</a> and <a href="https://github.com/MarcusWolschon/osmeditor4android/issues/1073">issue 1073</a>.</li>
<li>The documentation is out of date.</li>
<li>For known problems with this build please see <a href="https://github.com/MarcusWolschon/osmeditor4android/issues">our issue tracker</a></li>
</ul></div>
                    
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
	    <!--            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p> -->
	    <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> for Vespucci 19.3.0 </p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
